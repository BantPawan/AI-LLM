# Dockerfile.ollama
FROM ollama/ollama:latest

# ------------------------------------------------------------------
# 1. Copy the model definition and the startup script
# ------------------------------------------------------------------
COPY Modelfile      /root/.ollama/Modelfile
COPY start-ollama.sh /start-ollama.sh
RUN chmod +x /start-ollama.sh

# ------------------------------------------------------------------
# 2. **Override** the base image entrypoint so the script runs directly
# ------------------------------------------------------------------
ENTRYPOINT ["/start-ollama.sh"]

# ------------------------------------------------------------------
# 3. Expose Ollamaâ€™s API port (required for Render health-checks)
# ------------------------------------------------------------------
EXPOSE 11434
